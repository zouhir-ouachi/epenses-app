import { GlobalState, TransactionActionType } from "@/types/types";
import React, { createContext, useReducer, ReactNode } from "react";
import { startOfMonth } from "date-fns";

const initialState: GlobalState = {
  transactions: [
    {
      id: "5491fc7a-ae0b-4e8d-8759-4131fef72a15",
      amount: 1958.75,
      title: "Grocery Shopping",
      category: "Transport",
      date_time: "2024-03-04T14:41:14",
      type: "Expense",
    },
    {
      id: "a983a122-c788-4671-b5fb-0b4846be413b",
      amount: 401.73,
      title: "Movie Tickets",
      category: "Food",
      date_time: "2024-10-06T14:41:14",
      type: "Income",
    },
    {
      id: "edde53f4-a6f7-4983-bcf2-d4220711f6fa",
      amount: 1719.68,
      title: "Electric Bill",
      category: "Utilities",
      date_time: "2024-06-27T14:41:14",
      type: "Expense",
    },
    {
      id: "4abe70fd-0557-46b4-bea3-86cbbd0ceb63",
      amount: 5.58,
      title: "Electric Bill",
      category: "Shopping",
      date_time: "2023-11-10T14:41:14",
      type: "Expense",
    },
    {
      id: "4f2fb95a-9826-45f3-98d5-9bffb8c7801a",
      amount: 404.25,
      title: "Movie Tickets",
      category: "Utilities",
      date_time: "2024-05-31T14:41:14",
      type: "Income",
    },
    {
      id: "ea7f1a65-3ed2-466b-9c6a-a2286109077f",
      amount: 1157.57,
      title: "Salary Payment",
      category: "Food",
      date_time: "2024-08-20T14:41:14",
      type: "Expense",
    },
    {
      id: "7787609d-8152-45a6-953a-2d8d67b66853",
      amount: 1723.79,
      title: "Online Purchase",
      category: "Transport",
      date_time: "2024-09-13T14:41:14",
      type: "Expense",
    },
    {
      id: "2ec36498-ec03-42c3-816c-f4e651f78267",
      amount: 254.15,
      title: "Online Purchase",
      category: "Salary",
      date_time: "2024-07-31T14:41:14",
      type: "Income",
    },
    {
      id: "c6e97db2-6e7e-41b5-8064-5bf473761431",
      amount: 964.75,
      title: "Online Purchase",
      category: "Shopping",
      date_time: "2024-03-06T14:41:14",
      type: "Expense",
    },
    {
      id: "7d1575d4-1124-41de-8a6c-e24377de1e3a",
      amount: 487.05,
      title: "Electric Bill",
      category: "Entertainment",
      date_time: "2024-09-30T14:41:14",
      type: "Income",
    },
    {
      id: "32682eb5-0643-49e0-92ee-8d7271556446",
      amount: 1871.41,
      title: "Online Purchase",
      category: "Shopping",
      date_time: "2024-10-19T14:41:14",
      type: "Expense",
    },
    {
      id: "688bbec7-a5dd-4b3b-a567-235d1b074814",
      amount: 1439.03,
      title: "Salary Payment",
      category: "Utilities",
      date_time: "2023-12-08T14:41:14",
      type: "Income",
    },
    {
      id: "21374bb2-a1ac-4195-9cde-0dafae2e2ebe",
      amount: 1440.11,
      title: "Movie Tickets",
      category: "Utilities",
      date_time: "2024-01-16T14:41:14",
      type: "Expense",
    },
    {
      id: "7604a6d4-8b33-4c11-96cb-644d86e6ba1e",
      amount: 480.06,
      title: "Salary Payment",
      category: "Utilities",
      date_time: "2024-04-11T14:41:14",
      type: "Expense",
    },
    {
      id: "020ad6f6-02bb-4580-ae4e-e440c02f7754",
      amount: 883.63,
      title: "Grocery Shopping",
      category: "Transport",
      date_time: "2024-09-29T14:41:14",
      type: "Expense",
    },
    {
      id: "15d094e0-1c25-4a27-951c-21db71853c19",
      amount: 733.65,
      title: "Electric Bill",
      category: "Shopping",
      date_time: "2023-12-15T14:41:14",
      type: "Expense",
    },
    {
      id: "c83e69a5-13ae-4ec1-96e3-769841d80bbb",
      amount: 1618.33,
      title: "Bus Fare",
      category: "Food",
      date_time: "2024-03-29T14:41:14",
      type: "Expense",
    },
    {
      id: "75f9775c-dbc6-40a2-a4e3-d895b6b67dbd",
      amount: 1817.16,
      title: "Movie Tickets",
      category: "Transport",
      date_time: "2024-03-28T14:41:14",
      type: "Expense",
    },
    {
      id: "f3cc85f8-e452-465e-b8eb-c397edda41f8",
      amount: 622.7,
      title: "Bus Fare",
      category: "Utilities",
      date_time: "2024-05-28T14:41:14",
      type: "Income",
    },
    {
      id: "a564db11-1ec5-4830-ad0f-c5ee5610e8de",
      amount: 177.81,
      title: "Movie Tickets",
      category: "Shopping",
      date_time: "2023-12-25T14:41:14",
      type: "Expense",
    },
    {
      id: "ed2c1d2c-a8aa-4012-97c6-01dc9fbcf10b",
      amount: 1044.18,
      title: "Grocery Shopping",
      category: "Entertainment",
      date_time: "2024-05-12T14:41:14",
      type: "Income",
    },
    {
      id: "c338755d-d85f-43a0-9819-f81e20fcec5f",
      amount: 548.98,
      title: "Online Purchase",
      category: "Food",
      date_time: "2023-11-22T14:41:14",
      type: "Expense",
    },
    {
      id: "be132eef-4db0-434b-b18f-935ab7c23851",
      amount: 923.78,
      title: "Movie Tickets",
      category: "Shopping",
      date_time: "2024-06-24T14:41:14",
      type: "Income",
    },
    {
      id: "dc011866-1ed0-48db-9803-30d69df3d1d0",
      amount: 1410.73,
      title: "Online Purchase",
      category: "Entertainment",
      date_time: "2023-12-13T14:41:14",
      type: "Expense",
    },
    {
      id: "602e45ff-046f-4b0f-8fb6-02f5bc1eb8cf",
      amount: 435.7,
      title: "Bus Fare",
      category: "Salary",
      date_time: "2024-10-19T14:41:14",
      type: "Expense",
    },
    {
      id: "e6b88282-3bb7-4c7f-b774-ddcc1c7c346b",
      amount: 1749.88,
      title: "Movie Tickets",
      category: "Utilities",
      date_time: "2024-10-07T14:41:14",
      type: "Income",
    },
    {
      id: "785faad0-2c33-412d-b3bf-4898d0610703",
      amount: 1401.01,
      title: "Bus Fare",
      category: "Transport",
      date_time: "2024-01-26T14:41:14",
      type: "Income",
    },
    {
      id: "d334b9ba-5546-4d84-8ceb-89d47ffa21da",
      amount: 248.1,
      title: "Electric Bill",
      category: "Shopping",
      date_time: "2024-03-02T14:41:14",
      type: "Income",
    },
    {
      id: "51441d86-8401-4690-a8a1-da7372510d5f",
      amount: 859.26,
      title: "Electric Bill",
      category: "Entertainment",
      date_time: "2024-07-30T14:41:14",
      type: "Expense",
    },
    {
      id: "7ef030bc-fe59-454b-8037-9ac5de62d092",
      amount: 254.89,
      title: "Movie Tickets",
      category: "Utilities",
      date_time: "2024-10-18T14:41:14",
      type: "Expense",
    },
    {
      id: "d5883bb6-b7a3-4e6c-b365-e8bae7bb5612",
      amount: 471.73,
      title: "Online Purchase",
      category: "Utilities",
      date_time: "2024-03-01T14:41:14",
      type: "Income",
    },
    {
      id: "5dc1bb2a-afc8-4509-8890-f7ba40ef187a",
      amount: 5.15,
      title: "Bus Fare",
      category: "Entertainment",
      date_time: "2024-01-30T14:41:14",
      type: "Expense",
    },
    {
      id: "c87c91d1-8876-4acd-be0b-5c951c0c03b6",
      amount: 1312.08,
      title: "Grocery Shopping",
      category: "Entertainment",
      date_time: "2023-11-25T14:41:14",
      type: "Income",
    },
    {
      id: "c9e8e31b-9318-4c75-ab28-16a019168f0e",
      amount: 1523.64,
      title: "Salary Payment",
      category: "Salary",
      date_time: "2024-04-25T14:41:14",
      type: "Income",
    },
    {
      id: "19615529-9b27-431e-86e8-ec6c16d3f5c0",
      amount: 1981.04,
      title: "Salary Payment",
      category: "Shopping",
      date_time: "2023-11-13T14:41:14",
      type: "Income",
    },
    {
      id: "93c16462-4358-4008-9ca3-d86e9929a32c",
      amount: 1930.35,
      title: "Salary Payment",
      category: "Salary",
      date_time: "2023-10-26T14:41:14",
      type: "Expense",
    },
    {
      id: "b211b118-84a6-4331-a0b2-59500d38f7ef",
      amount: 696.25,
      title: "Online Purchase",
      category: "Entertainment",
      date_time: "2024-07-19T14:41:14",
      type: "Income",
    },
    {
      id: "76cbfe93-9db4-4788-90ea-62de981ed19d",
      amount: 454.58,
      title: "Movie Tickets",
      category: "Entertainment",
      date_time: "2024-06-12T14:41:14",
      type: "Expense",
    },
    {
      id: "eca4f16c-df78-40ab-a8d9-091dfc8bcba4",
      amount: 878.7,
      title: "Electric Bill",
      category: "Entertainment",
      date_time: "2024-02-03T14:41:14",
      type: "Income",
    },
    {
      id: "3f1b1ac6-79ae-44e6-9cd0-5bcf0e07a318",
      amount: 1587.64,
      title: "Movie Tickets",
      category: "Food",
      date_time: "2024-04-25T14:41:14",
      type: "Income",
    },
    {
      id: "b08eb7aa-b8f9-4e28-b2b1-2eb9adbec87a",
      amount: 1414.02,
      title: "Salary Payment",
      category: "Food",
      date_time: "2024-08-13T14:41:14",
      type: "Income",
    },
    {
      id: "55826f56-7e02-4b2c-8700-8e38fb88cc5d",
      amount: 1741.2,
      title: "Bus Fare",
      category: "Shopping",
      date_time: "2024-05-27T14:41:14",
      type: "Income",
    },
    {
      id: "48ac3c2e-441a-427b-b066-5f12bfaf0dac",
      amount: 228.42,
      title: "Online Purchase",
      category: "Salary",
      date_time: "2024-01-13T14:41:14",
      type: "Income",
    },
    {
      id: "b4aca2f1-ed0b-41e9-9b5a-f62958bbfd55",
      amount: 1582.77,
      title: "Online Purchase",
      category: "Entertainment",
      date_time: "2023-12-20T14:41:14",
      type: "Income",
    },
    {
      id: "ae39107e-232e-4aa5-a0c7-cec1d0119173",
      amount: 1265.79,
      title: "Salary Payment",
      category: "Food",
      date_time: "2024-08-18T14:41:14",
      type: "Expense",
    },
    {
      id: "26f998ac-d8f7-4a27-bddf-f0e2007cd06d",
      amount: 86.55,
      title: "Grocery Shopping",
      category: "Transport",
      date_time: "2024-09-09T14:41:14",
      type: "Income",
    },
    {
      id: "4ce7caf2-977d-46c7-a95f-e219eb33a05f",
      amount: 304.65,
      title: "Grocery Shopping",
      category: "Utilities",
      date_time: "2023-11-21T14:41:14",
      type: "Income",
    },
    {
      id: "18409d95-a340-40a8-b830-bf87709444a6",
      amount: 1828.98,
      title: "Grocery Shopping",
      category: "Transport",
      date_time: "2024-10-04T14:41:14",
      type: "Income",
    },
    {
      id: "99df9143-7dc3-4528-9daf-008dc7d831f6",
      amount: 552.27,
      title: "Bus Fare",
      category: "Utilities",
      date_time: "2024-07-23T14:41:14",
      type: "Expense",
    },
    {
      id: "a3249c71-d918-49fd-a0e4-598e69e91510",
      amount: 1114.68,
      title: "Salary Payment",
      category: "Transport",
      date_time: "2024-05-08T14:41:14",
      type: "Expense",
    },
    {
      id: "d7ddb6da-2d2e-4008-a6eb-e176359bdc08",
      amount: 1925.98,
      title: "Electric Bill",
      category: "Food",
      date_time: "2024-02-06T14:41:14",
      type: "Expense",
    },
    {
      id: "1496e27f-2ac9-4a97-b962-06f838a41540",
      amount: 722.87,
      title: "Online Purchase",
      category: "Transport",
      date_time: "2024-07-19T14:41:14",
      type: "Expense",
    },
    {
      id: "2668bb9c-1e58-44dd-a513-1e2955efbfcf",
      amount: 1988.57,
      title: "Electric Bill",
      category: "Salary",
      date_time: "2024-10-10T14:41:14",
      type: "Income",
    },
    {
      id: "5cd083c8-72d0-4383-a7f2-0bc48f2f57ef",
      amount: 380.63,
      title: "Online Purchase",
      category: "Food",
      date_time: "2024-07-23T14:41:14",
      type: "Expense",
    },
    {
      id: "8b740a27-d6a3-4630-b40d-b5aaff9f6c11",
      amount: 1665.49,
      title: "Online Purchase",
      category: "Entertainment",
      date_time: "2024-01-18T14:41:14",
      type: "Expense",
    },
    {
      id: "50a1c0e9-0888-4167-9d8d-f984e111911b",
      amount: 531.48,
      title: "Online Purchase",
      category: "Utilities",
      date_time: "2024-06-26T14:41:14",
      type: "Income",
    },
    {
      id: "6033920f-8ef1-43e9-908f-671f89cffd3a",
      amount: 1938.77,
      title: "Salary Payment",
      category: "Utilities",
      date_time: "2024-07-09T14:41:14",
      type: "Expense",
    },
    {
      id: "3acce16d-1876-4c93-aefe-ee2403f93c78",
      amount: 808.03,
      title: "Salary Payment",
      category: "Shopping",
      date_time: "2024-05-10T14:41:14",
      type: "Expense",
    },
    {
      id: "87d0740f-0fc6-4002-9bfd-07141cf7ceb8",
      amount: 1686.73,
      title: "Salary Payment",
      category: "Salary",
      date_time: "2023-11-19T14:41:14",
      type: "Expense",
    },
    {
      id: "8e0cc4d1-a1e5-4bf4-befe-eeae2cfaef1a",
      amount: 519.3,
      title: "Online Purchase",
      category: "Shopping",
      date_time: "2024-08-15T14:41:14",
      type: "Income",
    },
    {
      id: "25600f06-5b12-4fec-98a0-93431466cc76",
      amount: 1837.16,
      title: "Movie Tickets",
      category: "Food",
      date_time: "2024-03-01T14:41:14",
      type: "Income",
    },
    {
      id: "30f4e088-05a3-4a31-ba5c-375c91bb4438",
      amount: 953.36,
      title: "Electric Bill",
      category: "Salary",
      date_time: "2024-09-13T14:41:14",
      type: "Income",
    },
    {
      id: "7370bf88-c792-41dc-95b9-2a10fb3c7fe6",
      amount: 555.96,
      title: "Movie Tickets",
      category: "Entertainment",
      date_time: "2024-08-29T14:41:14",
      type: "Income",
    },
    {
      id: "6de16f4a-d7d1-4a98-ba68-9c32fe377b8a",
      amount: 178.98,
      title: "Movie Tickets",
      category: "Salary",
      date_time: "2024-03-03T14:41:14",
      type: "Income",
    },
    {
      id: "cc463236-569d-478c-bb74-5e4934c2b581",
      amount: 1176.31,
      title: "Electric Bill",
      category: "Entertainment",
      date_time: "2024-08-30T14:41:14",
      type: "Income",
    },
    {
      id: "3c549123-094b-4877-83e6-77830efe355d",
      amount: 1059.49,
      title: "Electric Bill",
      category: "Food",
      date_time: "2024-02-26T14:41:14",
      type: "Expense",
    },
    {
      id: "e2163f53-f2bd-4310-80f1-79b8dc9da726",
      amount: 1915.78,
      title: "Electric Bill",
      category: "Utilities",
      date_time: "2024-04-09T14:41:14",
      type: "Expense",
    },
    {
      id: "f4b4bfad-1c66-4435-8791-c70b3cab9365",
      amount: 1816.66,
      title: "Bus Fare",
      category: "Entertainment",
      date_time: "2024-06-11T14:41:14",
      type: "Income",
    },
    {
      id: "f889c175-a964-42fd-8d85-f405e9d35036",
      amount: 1523.4,
      title: "Electric Bill",
      category: "Food",
      date_time: "2024-01-01T14:41:14",
      type: "Income",
    },
    {
      id: "549bf7ea-ba63-4496-bfff-d1f3bfe35165",
      amount: 247.29,
      title: "Bus Fare",
      category: "Salary",
      date_time: "2024-03-02T14:41:14",
      type: "Income",
    },
    {
      id: "d04026de-f794-49ee-a027-2f33ddb95649",
      amount: 789.02,
      title: "Bus Fare",
      category: "Utilities",
      date_time: "2023-11-28T14:41:14",
      type: "Expense",
    },
    {
      id: "be0e23ef-f711-4e2f-944f-75444d2a5609",
      amount: 1043.99,
      title: "Salary Payment",
      category: "Entertainment",
      date_time: "2024-07-02T14:41:14",
      type: "Expense",
    },
    {
      id: "573c446e-0c65-4a0c-8f7c-26807fc93e93",
      amount: 1292.69,
      title: "Online Purchase",
      category: "Utilities",
      date_time: "2024-07-26T14:41:14",
      type: "Expense",
    },
    {
      id: "758247b0-b972-45c5-8c07-c3e5b3de3329",
      amount: 1088.18,
      title: "Bus Fare",
      category: "Salary",
      date_time: "2024-03-28T14:41:14",
      type: "Income",
    },
    {
      id: "f03f3f2b-679e-4e07-803a-707b1172e521",
      amount: 1043.69,
      title: "Online Purchase",
      category: "Transport",
      date_time: "2024-10-12T14:41:14",
      type: "Income",
    },
    {
      id: "c5d1d8f4-a094-4585-acb8-e3a3719a4377",
      amount: 326.99,
      title: "Salary Payment",
      category: "Transport",
      date_time: "2024-02-25T14:41:14",
      type: "Expense",
    },
    {
      id: "2fcbb80e-83d6-4522-a255-164d02324303",
      amount: 1184.12,
      title: "Salary Payment",
      category: "Transport",
      date_time: "2024-02-28T14:41:14",
      type: "Income",
    },
    {
      id: "9e3ce405-5529-4a04-af95-126350417b2c",
      amount: 1809.76,
      title: "Online Purchase",
      category: "Food",
      date_time: "2024-03-03T14:41:14",
      type: "Expense",
    },
    {
      id: "d7d757d0-2c66-4bdf-a974-eba626759328",
      amount: 1342.84,
      title: "Movie Tickets",
      category: "Food",
      date_time: "2023-11-05T14:41:14",
      type: "Expense",
    },
    {
      id: "8510afeb-7bdd-401b-8b22-3b7cf0c07e49",
      amount: 1409.33,
      title: "Salary Payment",
      category: "Utilities",
      date_time: "2024-05-14T14:41:14",
      type: "Expense",
    },
    {
      id: "d6eef580-b9ad-4597-a830-3dec33ce491a",
      amount: 170.99,
      title: "Grocery Shopping",
      category: "Entertainment",
      date_time: "2024-06-25T14:41:14",
      type: "Income",
    },
    {
      id: "2caba2f4-5f7a-414a-bf1a-a9756be4dd0f",
      amount: 68.38,
      title: "Grocery Shopping",
      category: "Shopping",
      date_time: "2024-07-28T14:41:14",
      type: "Expense",
    },
    {
      id: "584ae70e-7753-4fcf-b393-2ae7223d0832",
      amount: 1553.4,
      title: "Online Purchase",
      category: "Transport",
      date_time: "2024-06-30T14:41:14",
      type: "Income",
    },
    {
      id: "fa09b66e-a4dd-478e-9a8c-b43f3bd1ccb3",
      amount: 528.26,
      title: "Online Purchase",
      category: "Shopping",
      date_time: "2024-04-20T14:41:14",
      type: "Income",
    },
    {
      id: "36148535-5728-4ad2-b5d6-b6fa719fda4d",
      amount: 741.26,
      title: "Electric Bill",
      category: "Transport",
      date_time: "2024-03-08T14:41:14",
      type: "Income",
    },
    {
      id: "9f7c5c9b-cb58-42fd-9b8c-6277486fc438",
      amount: 873.14,
      title: "Bus Fare",
      category: "Salary",
      date_time: "2024-01-31T14:41:14",
      type: "Income",
    },
    {
      id: "7cddb6c7-af59-4050-9cc2-957d9a499262",
      amount: 799.29,
      title: "Grocery Shopping",
      category: "Utilities",
      date_time: "2024-07-01T14:41:14",
      type: "Income",
    },
    {
      id: "55c3321c-544f-4a7b-92f2-e2adb0f5b653",
      amount: 1041.54,
      title: "Grocery Shopping",
      category: "Food",
      date_time: "2024-02-02T14:41:14",
      type: "Expense",
    },
    {
      id: "279d0994-0d06-4135-9c71-e4db0a193d1f",
      amount: 1433.48,
      title: "Salary Payment",
      category: "Transport",
      date_time: "2024-09-24T14:41:14",
      type: "Expense",
    },
    {
      id: "7f32c848-680a-492d-86ec-602f58763c45",
      amount: 354.03,
      title: "Salary Payment",
      category: "Entertainment",
      date_time: "2024-05-02T14:41:14",
      type: "Expense",
    },
    {
      id: "3a133892-6948-40e5-ac07-2445f8f2874e",
      amount: 612.43,
      title: "Movie Tickets",
      category: "Entertainment",
      date_time: "2024-04-13T14:41:14",
      type: "Expense",
    },
    {
      id: "18635ebe-43bc-491b-a38d-fbc3b956881b",
      amount: 385.24,
      title: "Electric Bill",
      category: "Utilities",
      date_time: "2023-12-10T14:41:14",
      type: "Expense",
    },
    {
      id: "51bd80df-1f1b-43d6-99ca-297234d16d98",
      amount: 1921.32,
      title: "Online Purchase",
      category: "Salary",
      date_time: "2024-04-14T14:41:14",
      type: "Income",
    },
    {
      id: "cf7c9cff-2147-43f2-b0df-7fb631b258b0",
      amount: 889.97,
      title: "Salary Payment",
      category: "Shopping",
      date_time: "2024-06-15T14:41:14",
      type: "Income",
    },
    {
      id: "52d7d297-90fd-4e01-a8d9-632972a1d8f8",
      amount: 1997.65,
      title: "Salary Payment",
      category: "Entertainment",
      date_time: "2024-07-08T14:41:14",
      type: "Expense",
    },
    {
      id: "831084a9-07cc-449a-b7a4-824194998e83",
      amount: 1654.47,
      title: "Online Purchase",
      category: "Entertainment",
      date_time: "2024-04-03T14:41:14",
      type: "Income",
    },
    {
      id: "86bdfd20-db88-4e5d-bdba-eeeb37ffd086",
      amount: 1316.04,
      title: "Online Purchase",
      category: "Salary",
      date_time: "2024-04-23T14:41:14",
      type: "Income",
    },
    {
      id: "9bfa6663-953c-445b-9ce1-8aaf9fd99ebc",
      amount: 1381.81,
      title: "Salary Payment",
      category: "Salary",
      date_time: "2024-01-01T14:41:14",
      type: "Expense",
    },
    {
      id: "cc2f4b84-7e8e-466e-9c61-63d35bb61e94",
      amount: 399.34,
      title: "Movie Tickets",
      category: "Salary",
      date_time: "2024-01-15T14:41:14",
      type: "Income",
    },
    {
      id: "2efd46cf-8666-4470-bab0-c0aee677946b",
      amount: 1891.93,
      title: "Bus Fare",
      category: "Utilities",
      date_time: "2024-02-26T14:41:14",
      type: "Income",
    },
    {
      id: "cc2f4b84-7e8e-466e-9c61-63d35bb61e94",
      amount: 399.34,
      title: "Movie Tickets",
      category: "Salary",
      date_time: "2024-01-15T14:41:14",
      type: "Income",
    },
    {
      id: "2efd46cf-8666-4470-bab0-c0aee677946b",
      amount: 1891.93,
      title: "Bus Fare",
      category: "Utilities",
      date_time: "2024-02-26T14:41:14",
      type: "Income",
    },
  ],
  dateRange: {
    from: startOfMonth(new Date()),
    to: new Date(),
  },
};

interface GlobalContextType {
  state: GlobalState;
  dispatch: React.Dispatch<TransactionActionType>;
}

const GlobalContext = createContext<GlobalContextType | undefined>(undefined);

function transactionReducer(
  state: GlobalState,
  action: TransactionActionType
): GlobalState {
  switch (action.type) {
    case "ADD_TRANSACTION":
      return {
        ...state,
        transactions: [...state.transactions, action.payload],
      };
    case "DELETE_TRANSACTION":
      return {
        ...state,
        transactions: state.transactions.filter(
          (transaction) => transaction.id !== action.payload
        ),
      };
    case "UPDATE_TRANSACTION":
      return {
        ...state,
        transactions: state.transactions.map((transaction) =>
          transaction.id === action.payload.id ? action.payload : transaction
        ),
      };
    case "SET_DATE_RANGE":
      return {
        ...state,
        dateRange: action.payload,
      };

    default:
      return state;
  }
}

interface GlobalProviderProps {
  children: ReactNode;
}

export function GlobalProvider({ children }: GlobalProviderProps) {
  const [state, dispatch] = useReducer(transactionReducer, initialState);

  return (
    <GlobalContext.Provider value={{ state, dispatch }}>
      {children}
    </GlobalContext.Provider>
  );
}

export { GlobalContext };
